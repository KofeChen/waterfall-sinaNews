# waterfall-sinaNews

[预览地址]()

### 懒加载原理：
用一张默认图片或者loading亦或是logo代替网页中的（大量）图片（网络请求只有一次），只有当图片出现在用户视野中或者快要出现在用户视野中时，才把真实图片加载出来，通过数组或者自定义属性存储真实图片的src，在需要加载或者展示真实图片时对img标签的src进行替换

### 瀑布流布局原理：
1. 对需要瀑布流布局的元素绝对定位，其父元素position: relative。
2. 通过计算需要瀑布流布局的元素宽度除以其父元素（窗口或者显示容器）宽度得到瀑布流布局的列数，并对存储每列高度值的数组进行初始化为 0
3. 摆放元素时，比较每列高度，每次选取高度最低的一列摆放一个元素（通过设置left 和 top）
4. 重复3直到元素全部摆放完毕

### 实现原理：
1. 初始化界面：请求数据并将数据拼装成 dom ，监听每个img的load事件，当图片加载完毕进行瀑布流布局摆放元素
2. 当滑到页面底部再次发送请求（每次发送请求后page++），出现loading图标，当数据到来，loading消失的同时将数据render到页面上，同样是进行瀑布流布局
